# Redis

## Install Redis

To install Redis you first need add their repository.

```sh
curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/redis.list
```

Now you can install Redis by simply running the following commands.

```sh
sudo apt update -y
sudo apt install -y redis-server
```

Also make sure to enable that redis will start on boot. You can do that by running the following command:

```sh
sudo systemctl enable --now redis-server
```

## Setup Pelican for Redis

### Use Redis as driver

Run the following commands and choose `redis` for the drivers you want. For all other options you can simply hit Enter to use the current selected values.

When asked if you want to overwrite the queue worker file answer with `yes`.

```sh
cd /var/www/pelican
php artisan p:environment:setup
```
